# Instrucciones, Registros de CPU y Tipos de Datos

## Instrucciones

Una **instrucción** en lenguaje ensamblador es un **comando de bajo nivel** hacia la CPU. Típicamente consiste de:

```cpp
   [Label:] nmemonic operand1, operand2   ; optional comment
```

En sintaxis Intel el formato siempre es

```bash
   operation destination, source
```

### Componentes de una Instrucción

1. Etiqueta (Opcional):
   - Nombre simbólico para una dirección de memoria.
   - Se usa para saltos, ciclos y funciones.

```asm
   start:
```

2. Mnemónico (Nombre de la Instrucción):
   - Le indica a la CPU *que operación* ejecutar.
   - Ejemplos: `mov`, `add`, `jmp`, `cmp`, `call`, `ret`

```asm
   mov eax, 1  ; move 1 into the eax register
```

3. Operandos (Opcional)

   - Los *datos* sobre los que trabaja la instrucción.
   - Sintaxis Intel: destination, source

```asm
   add eax, ebx  ; eax = eax + ebx
```

### Tipos de Operandos

| Tipo          | Ejemplo            | Funcionamiento                     |
|---------------|--------------------|------------------------------------|
| Registro      | `eax`, `rbx`       | Registro de la CPU                 |
| Inmediato     | `5`, `0xFF`        | Valor en duro                      |
| Memoria       | `[ebx]`, `[rsp+8]` | Ubicación de memoria con dirección |

```asm
   mov eax, 5     ; inmediate to register
   mov eax, [ebx] ; memory to register
   mov [ebx], eax ; register to memory 
```

### Traducción a Lenguaje de Máquina

Cada instrucción se compila finalmente a un código de operación binario (*opcode*), que es ejecutado por la CPU. Por ejemplo:

```asm
   mov eax, 1
```

Se transforma en:

```asm
   b8 01 00 00 00
```

- `b8` es el *opcode* para `mov eax, imm32`

### Desglose de una Instrucción

```asm
   mov [rbp-4], eax  ; Store eax into local variable
```

- `mov`: Mover los datos.
- `[rbp-4]`: Destino (dirección de memoria, distancia desde el puntero base)
- `eax`: Origen (registro)
- La CPU escribirá el contenido de `eax` en la memoria ubicada en la dirección `[rbp-4]`